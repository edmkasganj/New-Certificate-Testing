<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mission Shakti Certificate Generator</title>

  <!-- Hindi font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: "Noto Sans Devanagari", sans-serif;
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    h2 { text-align: center; margin-top: 20px; }

    form {
      width: 400px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      width: 100%;
      padding: 10px;
      background: #1a73e8;
      color: #fff;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
    }

    #certificate-container {
      display: none;
      text-align: center;
      margin-top: 30px;
    }

    /* Landscape A4 certificate */
    .certificate {
      position: relative;
      width: 1123px;  /* A4 landscape at 96dpi */
      height: 794px;
      margin: 0 auto;
      color: #000;
      overflow: hidden;
    }

    .certificate img {
      position: absolute;
      top: 0;
      left: 0;
      width: 1123px;
      height: 794px;
      z-index: 0;
    }

    .date, .name, .text-block {
      position: relative;
      z-index: 1;
    }

    .date {
      top: 50px;
      left: 60px;
      font-size: 16px;
      font-weight: 600;
    }

    .name {
      top: 250px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 36px;
      font-weight: 800;
      text-align: center;
      white-space: nowrap;
    }

    .text-block {
      top: 320px;
      left: 130px;
      width: 860px;
      font-size: 20px;
      line-height: 1.7;
      text-align: justify;
      font-weight: 400;
    }

    #download-btn {
      margin-top: 20px;
      background: #34a853;
    }
  </style>
</head>

<body>
  <h2>Mission Shakti Certificate Generator</h2>

  <form id="certForm">
    <input type="text" id="name" placeholder="Enter Name" required />
    <input type="text" id="fatherName" placeholder="Enter Father/Husband Name" required />
    <input type="email" id="email" placeholder="Enter Email" required />
    <input type="tel" id="mobile" placeholder="Enter Mobile Number" required />
    <button type="submit">Generate Certificate</button>
  </form>

  <div id="certificate-container">
    <div class="certificate" id="certificate">
      <!-- Background Image -->
      <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiRX2CfVr9aGlWKDfXi-LhMImYy4Q3YRlPgv0bzIGhita5mYn4Nnjy2KMM5aQDqYTqRBvTWmcEct9G3CCWVHzRa06hNb_9xwRlPXNA2Sntq4XSRZ9d5TFECUmylkXWSEJhCraJ13Fa-pl0FeGZ9SUakZ3tKXPFTBJKo8jpiiWO-yT5-qsYZnw2ZCcQ70vg/s16000/A4%20(Landscape)%20(1).jpg" id="cert-bg" />

      <!-- Certificate Content -->
      <div class="date">Date: {{DATE}}</div>
      <div class="name">{{NAME}}</div>
      <div class="text-block">
        पिता/पति का नाम श्री <strong>{{FATHER_OR_HUSBAND_NAME}}</strong> को मिशन शक्ति के अंतर्गत उत्कृष्ट कार्य, निष्ठा, 
        और समाज में महिला सशक्तिकरण के प्रति आपके समर्पण के लिए हार्दिक अभिनंदन।<br><br>
        आपकी सक्रिय भागीदारी, जागरूकता अभियानों में योगदान तथा महिलाओं की सुरक्षा एवं सम्मान के लिए आपका 
        निरंतर प्रयास प्रशंसनीय है। आपके इसी उत्साह और कर्मनिष्ठा से “मिशन शक्ति” अपने उद्देश्यों की प्राप्ति में निरंतर 
        आगे बढ़ रहा है। आपको इस उत्कृष्ट योगदान के लिए यह प्रशंसा-पत्र प्रदान किया जाता है। नगर पंचायत उदाहरण, 
        जनपद कासगंज की ओर से आपके उज्ज्वल भविष्य की हार्दिक शुभकामनाएँ।
      </div>
    </div>
    <button id="download-btn">Download Certificate</button>
  </div>

  <!-- html2canvas -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    document.getElementById("certForm").addEventListener("submit", function(e){
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const father = document.getElementById("fatherName").value.trim();

      const today = new Date();
      const date = today.toLocaleDateString('en-GB').replace(/\//g, '-'); // DD-MM-YYYY

      const certEl = document.getElementById("certificate");
      certEl.querySelector(".name").textContent = name;
      certEl.querySelector(".text-block").innerHTML = certEl.querySelector(".text-block").innerHTML.replace("{{FATHER_OR_HUSBAND_NAME}}", father);
      certEl.querySelector(".date").textContent = "Date: " + date;

      document.getElementById("certificate-container").style.display = "block";

      document.getElementById("download-btn").addEventListener("click", function(){
        html2canvas(certEl, {scale: 3, useCORS: true}).then(canvas => {
          const link = document.createElement("a");
          link.download = name.replace(/\s+/g,"_") + "_certificate.png";
          link.href = canvas.toDataURL("image/png");
          link.click();
        });
      });
    });
  </script>
</body>
</html>
